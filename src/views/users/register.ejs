<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("../partials/head") %>
        <title>Register</title>
</head>

<body>
    <!--Header-->
    <%- include("../partials/header") %>
        <!--Header-->
        <!--navbar-->
        <%- include("../partials/navbar") %>
            <!--navbar-->

            <main class="register">
                <h2>Registro de Usuario</h2>
                <form action="/register" class="form-register" method="POST" enctype="multipart/form-data">
                    <div class="columns">
                        <div class="control-formulario">
                            <label for="name">Nombres:</label>
                            <div>
                                <input type="text" name="name" id="nombres"
                                    class="barra <%= locals.errors && errors.name ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.name : null %>"
                                    placeholder="Ingrese sus Nombres" minlength="2">
                                <% if (locals.errors && errors.name) { %>
                                    <div class="text-danger">
                                        <%= errors.name.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>
                        <div class="control-formulario">
                            <label for="lastname">Apellidos:</label>
                            <div>
                                <input type="text" name="lastname" id="apellidos"
                                    class="barra <%= locals.errors && errors.lastname ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.lastname : null %>"
                                    placeholder="Ingrese sus nombres" minlength="4">
                                <% if (locals.errors && errors.lastname) { %>
                                    <div class="text-danger">
                                        <%= errors.lastname.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>

                        <div class="control-formulario">
                            <label for="email">E-mail:</label>
                            <div>
                                <input type="email" name="email" id="email"
                                    class="barra <%= locals.errors && errors.email ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.email : null %>"
                                    placeholder="correo@dominio.com">
                                <% if (locals.errors && errors.email) { %>
                                    <div class="text-danger">
                                        <%= errors.email.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>

                        <div class="control-formulario">
                            <label for="city">Ciudad:</label>
                            <div>
                                <input type="text" name="city" id="city"
                                    class="barra <%= locals.errors && errors.city ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.city : null %>"
                                    placeholder="Ciudad de resdencia" minlength="5">
                                <% if (locals.errors && errors.city) { %>
                                    <div class="text-danger">
                                        <%= errors.city.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>
                        <div class="control-formulario">
                            <label for="roles_idroles">Rol:</label>
                            <div>
                                <select name="roles_idroles" id="" class="barra">
                                    <% roles.forEach(role => { %>
                                        <option value="<%= role.idroles %>"><%= role.name %> </option>
                                    <% }) %>
                                </select>
                                <% if (locals.errors && errors.roles_idroles) { %>
                                    <div class="text-danger">
                                        <%= errors.roles_idroles.msg %>
                                    </div>
                                <% } %>
                            </div>

                        </div>

                        <div class="control-formulario">
                            <label for="image">Imagen de perfil:</label>
                            <div>
                                <input type="file" name="image" id="foto"
                                    class="barra <%= locals.errors && errors.image ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.image : null %>" accept=".jpg , .png , .jpeg">
                                <% if (locals.errors && errors.image) { %>
                                    <div class="text-danger">
                                        <%= errors.image.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>
                    </div>

                    <div class="columns">
                        <div class="contraseñas">
                            <div class="control-formulario">
                                <label for="password">Contraseña:</label>
                                <input id="password" type="password" name="password" class="barra "
                                    placeholder="Ingrese Contraseña" minlength="7" maxlength="12">
                                <% if (locals.errors && errors.password) { %>
                                    <div class="text-danger">
                                        <%= errors.password.msg %>
                                    </div>
                                    <% } %>
                            </div>
                            <div class="control-formulario">
                                <label for="confirmpassword">Confirmar Contraseña:</label>
                                <input id="confirmpassword" name="confirmpassword" type="password" class="barra "
                                    placeholder="Confirme Contraseña" minlength="7" maxlength="12">
                                <% if (locals.errors && errors.confirmpassword) { %>
                                    <div class="text-danger">
                                        <%= errors.confirmpassword.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>

                        <div class="content-buttons">
                            <input type="reset" id="reset" class="buttons" value="Borrar">
                            <input type="submit" id="submit" class="buttons" value="Enviar">
                        </div>
                    </div>
                </form>
            </main>

            <!--footer-->
            <%- include("../partials/footer") %>
                <!--footer-->

</body>

</html>