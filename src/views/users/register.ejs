<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("../partials/head") %>
        <title>Register</title>
</head>

<body>
    <!--Header-->
    <%- include("../partials/header") %>
        <!--Header-->
        <!--navbar-->
        <%- include("../partials/navbar") %>
            <!--navbar-->

            <main class="register">
                <h2>Registro de Usuario</h2>
                <form action="/register" class="form-register" method="POST" enctype="multipart/form-data">
                    <div class="columns">
                        <div class="control-formulario">
                            <label for="nombres">Nombres:</label>
                            <div>
                                <input type="text" name="nombres" id="nombres"
                                    class="barra <%= locals.errors && errors.nombres ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.nombres : null %>"
                                    placeholder="Ingrese sus Nombres" minlength="2">
                                <% if (locals.errors && errors.nombres) { %>
                                    <div class="text-danger">
                                        <%= errors.nombres.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>
                        <div class="control-formulario">
                            <label for="apellidos">Apellidos:</label>
                            <div>
                                <input type="text" name="apellidos" id="apellidos"
                                    class="barra <%= locals.errors && errors.apellidos ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.apellidos : null %>"
                                    placeholder="Ingrese sus Apellidos" minlength="4">
                                <% if (locals.errors && errors.apellidos) { %>
                                    <div class="text-danger">
                                        <%= errors.apellidos.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>

                        <div class="control-formulario">
                            <label for="email">E-mail:</label>
                            <div>
                                <input type="email" name="email" id="email"
                                    class="barra <%= locals.errors && errors.email ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.email : null %>"
                                    placeholder="correo@dominio.com">
                                <% if (locals.errors && errors.email) { %>
                                    <div class="text-danger">
                                        <%= errors.email.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>

                        <div class="control-formulario">
                            <label for="city">Ciudad:</label>
                            <div>
                                <input type="text" name="city" id="city"
                                    class="barra <%= locals.errors && errors.city ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.city : null %>"
                                    placeholder="Ciudad de resdencia" minlength="5">
                                <% if (locals.errors && errors.city) { %>
                                    <div class="text-danger">
                                        <%= errors.city.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>
                        <div class="control-formulario">
                            <label for="rol">Rol:</label>
                            <div>
                                <select name="rol" id="rol"
                                    class="barra <%= locals.errors && errors.rol ? 'is-invalid' : null %>">
                                    <option value="usuario <%= locals.oldData && oldData.rol == "usuario" ? 'selected' : null %>"name="rol" >Usuario</option>
                                    <option value="admin <%= locals.oldData && oldData.rol== "admin" ? 'selected' : null %>"name="rol" >Administrador</option>
                                </select>
                                <% if (locals.errors && errors.rol) { %>
                                    <div class="text-danger">
                                        <%= errors.rol.msg %>
                                    </div>
                                <% } %>
                            </div>

                        </div>

                        <div class="control-formulario">
                            <label for="image">Imagen de perfil:</label>
                            <div>
                                <input type="file" name="image" id="foto"
                                    class="barra <%= locals.errors && errors.image ? 'is-invalid' : null %>"
                                    value="<%= locals.oldData ? oldData.image : null %>" accept=".jpg , .png , .jpeg">
                                <% if (locals.errors && errors.image) { %>
                                    <div class="text-danger">
                                        <%= errors.image.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>
                    </div>

                    <div class="columns">
                        <div class="contraseñas">
                            <div class="control-formulario">
                                <label for="password">Contraseña:</label>
                                <input id="password" type="password" name="password" class="barra "
                                    placeholder="Ingrese Contraseña" minlength="7" maxlength="12">
                                <% if (locals.errors && errors.password) { %>
                                    <div class="text-danger">
                                        <%= errors.password.msg %>
                                    </div>
                                    <% } %>
                            </div>
                            <div class="control-formulario">
                                <label for="confirmpassword">Confirmar Contraseña:</label>
                                <input id="confirmpassword" name="confirmpassword" type="password" class="barra "
                                    placeholder="Confirme Contraseña" minlength="7" maxlength="12">
                                <% if (locals.errors && errors.confirmpassword) { %>
                                    <div class="text-danger">
                                        <%= errors.confirmpassword.msg %>
                                    </div>
                                    <% } %>
                            </div>
                        </div>

                        <div class="content-buttons">
                            <input type="reset" id="reset" class="buttons" value="Borrar">
                            <input type="submit" id="submit" class="buttons" value="Enviar">
                        </div>
                    </div>
                </form>
            </main>

            <!--footer-->
            <%- include("../partials/footer") %>
                <!--footer-->

</body>

</html>